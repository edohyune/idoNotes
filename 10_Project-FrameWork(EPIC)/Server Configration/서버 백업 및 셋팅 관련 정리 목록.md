- [ ] 서버 백업 및 셋팅 관련 정리 #obs 
GAIA 서버
	GAIA 서버 생성
	GAIA 서버 백업플랜
	GAIA 서버 Stored Procedure 백업
	GAIA 서버 테이블 생성
	GAIA 서버 데이터 복제
	
 SELENE 서버
	 SELENE 서버 생성
	SELENE 서버 백업플랜
	SELENE 서버 Stored Procedure 백업
	SELENE 서버 테이블 생성
	SELENE 서버 데이터 복제
	
GAIA 서버 구성
	MARS 서버 생성
	MARS 서버 백업플랜
	MARS 서버 Stored Procedure 백업
	MARS 서버 테이블 생성
	MARS 서버 데이터 복제




#### 새로운 이름으로 데이터베이스 복제


백업실행
```SQL
BACKUP DATABASE [GAIAV00]
TO DISK = 'C:\DATA\GAIAV00_20240625.bak'
WITH FORMAT;
```

Logical Name 확인
```SQL
RESTORE FILELISTONLY
FROM DISK = 'C:\DATA\GAIAV00_20240625.bak';
```

LogicalName	PhysicalName	Type	FileGroupName
GAIAV00_data	C:\DATA\GAIAV00.mdf	D	PRIMARY
GAIAV00_log	C:\DATA\GAIAV00.ldf	L	NULL

새로운 이름으로 복원
```SQL
RESTORE DATABASE [GAIAV03]
FROM DISK = 'C:\DATA\GAIAV00_20240625.bak'
WITH 
MOVE 'GAIAV00_data' TO 'C:\Data\GAIAV03.mdf',
MOVE 'GAIAV00_log' TO 'C:\Data\GAIAV03.ldf';
```

로지컬 이름변경
```SQL
-- 1. 데이터베이스 복원
데이터베이스를 싱글 유저 모드로 설정
ALTER DATABASE [GAIAV03] SET SINGLE_USER WITH ROLLBACK IMMEDIATE;

로지컬 파일 이름 변경
ALTER DATABASE [GAIAV03]
MODIFY FILE (NAME = 'GAIAV00_data', NEWNAME = 'GAIAV03_data');
ALTER DATABASE [GAIAV03]
MODIFY FILE (NAME = 'GAIAV00_log', NEWNAME = 'GAIAV03_log');

데이터베이스를 멀티 유저 모드로 설정
ALTER DATABASE [GAIAV03] SET MULTI_USER;
```


